import{f as n,a as s,c as mt,t as pt,s as v}from"../chunks/B35PcQGF.js";import{o as ft}from"../chunks/lRhbJWai.js";import{p as ut,s as N,c as xt,f as k,d as _t,e as ht,g as x,$ as gt,i as o,j as t,k as r,r as e,u as O,n as Q,t as C}from"../chunks/BZjX7xHU.js";import{i as P}from"../chunks/D9uJM2wH.js";import{h as bt,c as yt,e as wt,i as $t}from"../chunks/DQl7avGA.js";import{f as kt}from"../chunks/BWqZDye-.js";import{P as Ct,R as At}from"../chunks/CP3XHTay.js";import{C as Kt,A as It}from"../chunks/kp9I4jKG.js";import{B as Lt}from"../chunks/D5w3vmtt.js";import{I as Nt}from"../chunks/x5lqHpA1.js";import{S as Pt}from"../chunks/BMMDD9hE.js";import{S as St}from"../chunks/CcT_CqqL.js";import{U as Dt}from"../chunks/DFFVY5vM.js";var zt=n("<!> Aktualisieren",1),Ut=n('<div class="flex justify-center py-12"><!></div>'),jt=n('<div class="text-center py-12 text-gray-400"><!> <p> </p></div>'),Bt=n('<span class="font-mono text-sm"> </span>'),Et=n('<span class="text-gray-500">-</span>'),Mt=n('<tr class="border-b border-white/5 hover:bg-white/5 transition-colors"><td class="py-3 px-4"><span class="font-mono text-sm text-royal-300"> </span></td><td class="py-3 px-4"> </td><td class="py-3 px-4"><!></td><td class="py-3 px-4 text-sm text-gray-400"> </td></tr>'),Rt=n('<div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b border-white/10"><th class="text-left py-3 px-4 text-xs uppercase tracking-wider text-gray-400 font-medium">Debitorennr.</th><th class="text-left py-3 px-4 text-xs uppercase tracking-wider text-gray-400 font-medium">Name</th><th class="text-left py-3 px-4 text-xs uppercase tracking-wider text-gray-400 font-medium">Actindo ID</th><th class="text-left py-3 px-4 text-xs uppercase tracking-wider text-gray-400 font-medium">Erstellt</th></tr></thead><tbody></tbody></table></div> <div class="mt-4 pt-4 border-t border-white/10 text-sm text-gray-400"> </div>',1),Ft=n('<div class="mb-6"><div class="relative max-w-md"><!> <!></div></div> <!>',1),Ht=n("<!> <!> <!>",1);function re(T,V){ut(V,!0);let _=N(xt([])),h=N(!0),A=N(""),c=N(""),S=O(()=>t(c).trim()?t(_).filter(a=>a.debtorNumber.toLowerCase().includes(t(c).toLowerCase())||a.name.toLowerCase().includes(t(c).toLowerCase())):t(_));ft(()=>{M()});async function M(){x(h,!0),x(A,"");try{x(_,await yt.list(),!0)}catch(a){x(A,a instanceof Error?a.message:"Fehler beim Laden",!0)}finally{x(h,!1)}}var R=Ht();bt("hmlmb2",a=>{ht(()=>{gt.title="Customers | Actindo Middleware"})});var F=k(R);Ct(F,{title:"Kunden",subtitle:"Uebersicht aller erstellten Kunden",actions:K=>{Lt(K,{variant:"ghost",onclick:M,get disabled(){return t(h)},children:(g,d)=>{var b=zt(),I=k(b);{let D=O(()=>t(h)?"animate-spin":"");At(I,{size:16,get class(){return t(D)}})}Q(),s(g,b)},$$slots:{default:!0}})}});var H=o(F,2);{var W=a=>{It(a,{variant:"error",class:"mb-6",children:(K,g)=>{Q();var d=pt();C(()=>v(d,t(A))),s(K,d)},$$slots:{default:!0}})};P(H,a=>{t(A)&&a(W)})}var X=o(H,2);Kt(X,{children:(a,K)=>{var g=Ft(),d=k(g),b=r(d),I=r(b);St(I,{size:18,class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"});var D=o(I,2);Nt(D,{type:"search",placeholder:"Suche nach Debitorennr. oder Name...",class:"pl-11",get value(){return t(c)},set value(i){x(c,i,!0)}}),e(b),e(d);var Y=o(d,2);{var Z=i=>{var m=Ut(),z=r(m);Pt(z,{}),e(m),s(i,m)},tt=i=>{var m=mt(),z=k(m);{var et=p=>{var f=jt(),u=r(f);Dt(u,{size:48,class:"mx-auto mb-4 opacity-50"});var y=o(u,2),L=r(y,!0);e(y),e(f),C(()=>v(L,t(c)?"Keine Kunden gefunden":"Noch keine Kunden vorhanden")),s(p,f)},rt=p=>{var f=Rt(),u=k(f),y=r(u),L=o(r(y));wt(L,21,()=>t(S),$t,(st,w)=>{var U=Mt(),j=r(U),G=r(j),ot=r(G,!0);e(G),e(j);var B=o(j),nt=r(B,!0);e(B);var E=o(B),it=r(E);{var lt=l=>{var $=Bt(),ct=r($,!0);e($),C(()=>v(ct,t(w).customerId)),s(l,$)},dt=l=>{var $=Et();s(l,$)};P(it,l=>{t(w).customerId?l(lt):l(dt,!1)})}e(E);var J=o(E),vt=r(J,!0);e(J),e(U),C(l=>{v(ot,t(w).debtorNumber),v(nt,t(w).name||"-"),v(vt,l)},[()=>kt(t(w).createdAt)]),s(st,U)}),e(L),e(y),e(u);var q=o(u,2),at=r(q);e(q),C(()=>v(at,`${t(S).length??""} von ${t(_).length??""} Kunden`)),s(p,f)};P(z,p=>{t(S).length===0?p(et):p(rt,!1)},!0)}s(i,m)};P(Y,i=>{t(h)&&t(_).length===0?i(Z):i(tt,!1)})}s(a,g)},$$slots:{default:!0}}),s(T,R),_t()}export{re as component};
